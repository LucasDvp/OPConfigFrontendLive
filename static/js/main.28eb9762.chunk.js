(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},157:function(e,t,a){e.exports=a.p+"static/media/feedback_url_image.607338c8.png"},167:function(e,t,a){e.exports=a(346)},172:function(e,t,a){},235:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),o=a.n(r),s=(a(172),a(112),a(17)),c=a(18),i=a(20),d=a(19),u=a(21),m=a(360),p=a(362),g=a(361),y=a(11),h=a(347),b=a(349),f=a(352),E=a(146),k=a(350);function v(e){var t=e.keyName,a=e.des,n=e.checked;return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",margin:"15px 0"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("h3",null,t),l.a.createElement(E.a,{title:a},l.a.createElement(y.a,{type:"info-circle",theme:"twoTone",style:{margin:"3px"}}))),l.a.createElement(b.a,null,l.a.createElement(k.a,{defaultChecked:n})))}var S=a(358),w=S.a.Group,M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={showInput:!1},a.clickShowFileScopeToggle=function(){var e=a.state.showInput;a.setState({showInput:!e})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.keyName,a=e.fileJson,n=e.value,r=e.hasFileMetadata,o=void 0!==r&&r,s=e.showFileMetadata,c=void 0===s||s,i=e.hint;console.log("hehe",i,n);var d=this.state.showInput?l.a.createElement(S.a,{addonBefore:"File Scope",placeholder:"default is global scope",defaultValue:a,addonAfter:l.a.createElement("a",{onClick:this.clickShowFileScopeToggle},l.a.createElement(y.a,{type:"check"}))}):l.a.createElement(h.a,{type:"primary",icon:"copy",disabled:!o,onClick:this.clickShowFileScopeToggle},"Show File Scope");return l.a.createElement("div",{style:{marginBottom:"15px"}},l.a.createElement(w,{size:"large",style:{display:"flex",marginTop:"10px",justifyContent:"space-between"}},l.a.createElement(b.a,{span:6},l.a.createElement(S.a,{defaultValue:t})),l.a.createElement(b.a,{span:6},l.a.createElement(S.a,{defaultValue:n,placeholder:i})),l.a.createElement(b.a,{style:{display:c?"default":"none"}},d),l.a.createElement(b.a,null,l.a.createElement(h.a,{type:"primary"},"Delete"))))}}]),t}(n.Component),C=a(357),x=a(355),j=a(351),O=a(367),D=a(363),A=a(365),T=a(12),F=a.n(T),N=(a(235),a(151)),z=a.n(N),I=(a(237),C.a.Item),_=S.a.Search,B=x.a.TabPane,P=["magenta","orange","green"];function R(e){var t=e.isSelected,a=e.onToggleMetadata;return l.a.createElement(h.a,{type:t?"danger":"primary",onClick:a},t?"Remove":"Add")}function V(e){var t=e.title,a=e.groupName,n=P[a.length%P.length];return l.a.createElement(j.a,{gutter:8,type:"flex"},l.a.createElement(b.a,null,l.a.createElement("p",null,t)),l.a.createElement(b.a,null,l.a.createElement(O.a,{color:n},a)))}var G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state=a.initState,a.componentWillReceiveProps=function(e,t){a.setState(a.initState)},a.onTabClick=function(e){console.log(e)},a.onClose=function(){console.log(a.props.globalMetadatas),a.setState(a.initState),a.props.onCancel()},a.onSubmitMetadatas=function(){var e=F.a.filter(a.state.metadatas,{isSelected:!0});a.setState(a.initState),a.props.onSubmitMetadatas(e)},a.onToggleMetadata=function(e){return function(){var t=F.a.find(a.state.metadatas,{key:e});t.isSelected=!t.isSelected,a.setState({metadata:F.a.assign(a.state.metadatas,t)})}},a.onToggleSecondDrawer=function(e){return function(){a.state.secondDrawerOpen?a.setState({secondDrawerOpen:!1}):e&&a.setState({secondDrawerOpen:!0,secondDrawerTitle:e.key,secondDrawerDes:e.des,secondDrawerType:e.type,secondDrawerGroup:e.group,secondDrawerImageDetail:e.imgUrl})}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isOpen,a=this.state.metadatas.map(function(t){return l.a.createElement(I,{key:t.key,actions:[l.a.createElement(R,{isSelected:t.isSelected,onToggleMetadata:e.onToggleMetadata(t.key)}),l.a.createElement(h.a,{type:"dashed",onClick:e.onToggleSecondDrawer(t)},"Detail")]},l.a.createElement(I.Meta,{style:{width:"160px"},title:l.a.createElement(V,{title:t.key,groupName:t.group}),description:l.a.createElement("p",{style:{width:"160px"}},t.des)}))}),n={height:"780px",overflowY:"auto"},r=F.a.groupBy(this.state.metadatas,"group"),o=F.a.keys(r).map(function(t,a){return l.a.createElement(B,{tab:t,key:a+1},l.a.createElement(C.a,{size:"large",style:n},r[t].map(function(a){return l.a.createElement(I,{key:a.key,actions:[l.a.createElement(R,{isSelected:a.isSelected,onToggleMetadata:e.onToggleMetadata(a.key)}),l.a.createElement(h.a,{type:"dashed",onClick:e.onToggleSecondDrawer(a)},"Detail")]},l.a.createElement(I.Meta,{style:{width:"160px"},title:l.a.createElement(V,{title:a.key,groupName:t}),description:l.a.createElement("p",{style:{width:"160px"}},a.des)}))})))}),s=F.a.isEmpty(this.state.secondDrawerImageDetail)?l.a.createElement("span",{className:"no-detail-screenshot"},"No Detail ScreenShot"):l.a.createElement("img",{src:this.state.secondDrawerImageDetail,alt:"No Detail ScreenShot",onClick:function(){e.setState({imageVisible:!e.state.imageVisible})}});return l.a.createElement(D.a,{title:"Add Metadata",width:"450",visible:t,onClose:this.onClose},l.a.createElement(_,{enterButton:"Search",size:"large",placeholder:"Seach Metadata"}),l.a.createElement(x.a,{style:{marginTop:"20px"},defaultActiveKey:"0",onChange:this.onTabClick},l.a.createElement(B,{tab:"All",key:"0"},l.a.createElement(C.a,{size:"large",style:n},a)),o),l.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,padding:"24px",width:"100%",backgroundColor:"white"}},l.a.createElement(h.a,{block:!0,onClick:this.onSubmitMetadatas,type:"primary",size:"large"},"Add")),l.a.createElement(D.a,{title:this.state.secondDrawerTitle,width:400,closable:!1,onClose:this.onToggleSecondDrawer(),visible:this.state.secondDrawerOpen},l.a.createElement("div",{className:"second-drawer-content"},l.a.createElement("div",null,"Metadata Group: ",l.a.createElement(O.a,{color:"blue"},this.state.secondDrawerGroup)),l.a.createElement("div",null,"Metadata Type: ",l.a.createElement(O.a,{color:"purple"},this.state.secondDrawerType)),l.a.createElement("div",null,"Used Count: ",l.a.createElement(O.a,{color:"cyan"},"109")),l.a.createElement(A.a,{type:"success",description:F.a.isEmpty(this.state.secondDrawerDes)?"No Description":this.state.secondDrawerDes,message:"Description"}),l.a.createElement("p",null,"Metadata ScreenShot: "),s,l.a.createElement(z.a,{visible:this.state.imageVisible,onClose:function(){e.setState({imageVisible:!1})},images:[{src:this.state.secondDrawerImageDetail,alt:"Docs ScreenShot Details"}]}))))}},{key:"initState",get:function(){return{metadatas:this.props.globalMetadatas.map(function(e){return F.a.assign(e,{isSelected:!1})}),secondDrawerOpen:!1,secondDrawerTitle:"",secondDrawerDes:"",secondDrawerGroup:"",secondDrawerImageDetail:"",secondDrawerType:"",imageVisible:!1}}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={openAddMetadata:!1},a.onToggleAddMetadata=function(){a.setState({openAddMetadata:!a.state.openAddMetadata})},a.onSubmitMetadatas=function(e){a.setState({openAddMetadata:!1}),a.props.addMetadataToPanel(e)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.metadatas,n=e.isChecked,r=e.metadataSet,o=a.map(function(e){return l.a.createElement(M,{key:e.key,keyName:e.key,fileJson:e.fileJson,hasFileMetadata:e.hasFileMetadata,value:e.value,hint:e.hint})});return l.a.createElement("div",null,l.a.createElement("h2",null,t),l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement(b.a,{span:24},l.a.createElement("h2",null,"Metadata"),l.a.createElement("span",null,"Following metadata will be applied docset-wide (globalMetadata)"),l.a.createElement(f.a,null)),l.a.createElement(v,{keyName:"Accepts community contributions",des:"Select if your content accepts community contributions, adds a button to the rendered page which directs external users to a repository to submit pull requests",checked:n}),o,l.a.createElement(h.a,{type:"dashed",size:"large",icon:"plus",style:{width:"100%",marginTop:"10px"},onClick:this.onToggleAddMetadata},"Add Metadata")),l.a.createElement(G,{isOpen:this.state.openAddMetadata,onSubmitMetadatas:this.onSubmitMetadatas,onCancel:this.onToggleAddMetadata,globalMetadatas:r}))}}]),t}(n.Component),q=a(145),L=q.a.Option;function W(e){var t=e.keyName,a=(e.des,e.branches),n=e.selected,r=a.map(function(e){return l.a.createElement(L,{key:e},e)});return l.a.createElement("div",{style:{marginBottom:"20px"}},l.a.createElement("h3",null,t),l.a.createElement(q.a,{mode:"tags",style:{width:"100%"},defaultValue:n,placeholder:"Input branch to filter"},r))}var K=C.a.Item;function U(e){var t=e.keyName,a=e.des,n=e.emails.map(function(e){return l.a.createElement(K,{key:e,actions:[l.a.createElement("a",{href:"/"},"Delete")]},e)});return l.a.createElement("div",{style:{marginBottom:"20px"}},l.a.createElement("h3",null,t),l.a.createElement("span",null,a),l.a.createElement("div",{style:{display:"flex",margin:"20px 0 20px 0"}},l.a.createElement(S.a,{placeholder:"Add email..."}),l.a.createElement(h.a,{type:"primary",icon:"plus",style:{marginLeft:"10px"}},"Add email")),l.a.createElement(C.a,{bordered:!0},n))}function H(e){var t=e.keyName,a=e.des,n=e.value;return l.a.createElement(j.a,{style:{marginTop:"20px"},type:"flex",justify:"space-between"},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("span",{style:{fontSize:"16px",color:"grey",fontWeight:"400"}},t),l.a.createElement(E.a,{title:a},l.a.createElement(y.a,{type:"info-circle",theme:"twoTone",style:{margin:"3px"}}))),l.a.createElement(S.a,{value:n,style:{margin:"10px 0"}}))}var Y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,"Public Contributor"),l.a.createElement(f.a,null),l.a.createElement(H,{keyName:"Git Repository URL open to public contributors",des:"The url of the git repository open to public contributors. If not specified, use current git repository url.",value:"https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md"}),l.a.createElement(H,{keyName:"Git Repository Branch open to public contributors",des:"The branch of the git repository open to public contributors. If not specified, use current git repository branch.",value:"master"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Email Notification"),l.a.createElement(f.a,null),l.a.createElement(U,{keyName:"Build/publish notifications will be sent to these email addresses",emails:["jasoz@microsoft.com","zifan@microsoft.com","yanzhao@microsoft.com","jahe@microsoft.com"]})),l.a.createElement("div",null,l.a.createElement("h2",null,"Branch level functionality"),l.a.createElement(f.a,null),l.a.createElement(W,{keyName:"Generate PDF on following branches",branches:["master","live","test","zifan-test"],selected:["master"]}),l.a.createElement(W,{keyName:"Generate intellisense on following  branches",branches:["master","live","test","zifan-test"],selected:["master","live"]}),l.a.createElement(W,{keyName:"Enable bilingual on following branches",branches:["master","live","test","zifan-test"],selected:["zifan-test","test"]})),l.a.createElement("div",null,l.a.createElement("h2",null,"Branch Policy"),l.a.createElement(f.a,null),l.a.createElement(W,{keyName:"No build/publish will be trigged on following branches",branches:["master","live","test","zifan-test"],selected:["live-sxs"]})))}}]),t}(n.Component),$=a(157),Q=a.n($),X=a(353),Z=a(354),ee=X.a.Item,te=q.a.Option,ae=S.a.TextArea,ne={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},le={labelCol:{span:24},wrapperCol:{span:24}},re=["bool","string","number","object","one or many"],oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state=a.initState,a.onAddMetadataSet=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.key=t.name,t.group=F.a.first(t.group),console.log("hehe",t),a.props.onAddMetadataSet(t))})},a.validateValueExist=function(e){return function(t,n,l){var r=[];switch(e){case"name":r=a.state.names;break;case"value":default:r=a.state.values}console.log(r,n,e,r.includes(n)),r.includes(n)?l("The ".concat(e," name has already exist")):l()}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement(X.a,{onSubmit:this.onAddMetadataSet},l.a.createElement(ee,Object.assign({},ne,{label:"Metadata Name"}),e("name",{rules:[{required:!0,message:"Please input metadata name!"},{validator:this.validateValueExist("name")}]})(l.a.createElement(S.a,null))),l.a.createElement(ee,Object.assign({},ne,{label:l.a.createElement("span",null,"Metadata Value\xa0",l.a.createElement(E.a,{title:"Value is what your docfx.json key name."},l.a.createElement(y.a,{type:"question-circle-o"})))}),e("value",{rules:[{required:!0,message:"Please input metadata value!"},{validator:this.validateValueExist("value")}]})(l.a.createElement(S.a,null))),l.a.createElement(ee,Object.assign({},ne,{label:"Metadata Type"}),e("type",{rules:[{required:!0,message:"Please select metadata type!"}]})(l.a.createElement(q.a,{placeholder:"Select the metadata type"},re.map(function(e){return l.a.createElement(te,{value:e},e)})))),l.a.createElement(ee,Object.assign({},ne,{label:"Metadata Group"}),e("group",{rules:[{required:!0,message:"Please select metadata group!"}]})(l.a.createElement(q.a,{allowClear:!0,mode:"tags",placeholder:"Select the metadata group",notFoundContent:"Add new group"},this.state.groups.map(function(e){return l.a.createElement(te,{value:e},e)})))),l.a.createElement(ee,Object.assign({},le,{label:"Metadata Description"}),e("des",{rules:[{required:!0,message:"Describe this metadata!"}]})(l.a.createElement(ae,{rows:4}))),l.a.createElement(ee,Object.assign({},le,{label:"Metadata ScreenShot"}),e("imgUrl",{valuePropName:"fileList",getValueFromEvent:this.normFile})(l.a.createElement(Z.a.Dragger,{name:"files",action:"/action.do"},l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(y.a,{type:"inbox"})),l.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),l.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload.")))),l.a.createElement(ee,null,l.a.createElement(h.a,{block:!0,type:"primary",size:"large",htmlType:"submit"},"Add")))}},{key:"initState",get:function(){return this.props.metadataSet?{groups:F.a.uniq(this.props.metadataSet.map(function(e){return e.group})),names:this.props.metadataSet.map(function(e){return e.key}),values:this.props.metadataSet.map(function(e){return e.value})}:{group:[],names:[]}}}]),t}(n.Component),se=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.showMetadataRegister,n=e.metadataSet,r=e.onAddMetadataSet,o=X.a.create()(oe);return l.a.createElement(D.a,{visible:a,onClose:t,title:"Register New Metadata",width:450},l.a.createElement(o,{metadataSet:n,onAddMetadataSet:r}))}}]),t}(n.Component),ce=m.a.Header,ie=m.a.Sider,de=m.a.Content,ue=p.a.SubMenu,me=["Docset1","Docset2","Configuration"],pe=[{key:"feedback_github_repo",hasFileMetadata:!0,value:"MicrosoftDocs/azure-docs"},{key:"feedback_product_url",value:"https://feedback.azure.com/forums/34192--general-feedback"},{key:"breadcrumb_path",value:"/azure/bread/toc.json"},{key:"brand",value:"azure"}],ge=[{key:"feedback_product_url",hasFileMetadata:!0,fileJson:"**/*.md",value:"https://feedback.azure.com/forums/34193--general-feedback"},{key:"breadcrumb_path",hasFileMetadata:!0,fileJson:"**/build/*.yaml",value:"/azurelearning/bread/toc.json"},{key:"brand",hasFileMetadata:!0,fileJson:"**/*.md",value:"azure learning"}],ye=[{group:"Feedback",key:"feedback product url",value:"feedback_product_url",imgUrl:Q.a,type:"string",des:"Config the feedback url for product"},{group:"Feedback",key:"feedback github repo",value:"feedback_github_repo",type:"string",des:""},{group:"Feedback",key:"feedback system",value:"feedback_system",type:"string",des:""},{group:"Feedback",key:"product feedback displaytext",value:"product_feedback_displaytext",type:"string",des:""},{group:"BreadCrumb",key:"breadcrumb path",value:"breadcrumb_path",type:"string",des:""},{group:"BreadCrumb",key:"extend breadcrumb",value:"extend_breadcrumb",type:"string",des:""},{group:"ContributorList",key:"author",value:"author",type:"string",des:""},{group:"ContributorList",key:"contributors to exclude",value:"contributors_to_exclude",type:"string",des:""}],he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,selectedContent:0,name:me[0],docsetMetadata1:pe,docsetMetadata2:ge,metadataSet:ye,showMetadataRegister:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.menuClick=function(e){a.setState({name:me[e.key],selectedContent:e.key})},a.addMetadataToPanel=function(e){e=e.map(function(e){var t=null;if(e.type)switch(e.type){case"bool":t="Boolean value: true/false";break;case"number":t="Number value: integer/float/double";break;case"object":t='JSON object value: {"a": "a value"}';break;case"one or many":t="One or many value: string/string[]";break;case"string":default:t="String value"}return e.value="",e.hint=t,e}),0===parseInt(a.state.selectedContent)?a.setState({docsetMetadata1:F.a.uniqBy(F.a.concat(a.state.docsetMetadata1,e),"key")}):a.setState({docsetMetadata2:F.a.uniqBy(F.a.concat(a.state.docsetMetadata2,e),"key")})},a.onAddMetadataSet=function(e){a.setState({metadataSet:F.a.concat(a.state.metadataSet,e),showMetadataRegister:!1}),g.a.success("New metadata has registed.")},a.onToggleMetadataRegister=function(){a.setState({showMetadataRegister:!a.state.showMetadataRegister})},a.contentRender=function(e){switch(parseInt(e)){case 2:return l.a.createElement(Y,null);case 1:return l.a.createElement(J,{name:a.state.name,metadatas:a.state.docsetMetadata2,isChecked:!1,metadataSet:a.state.metadataSet,addMetadataToPanel:a.addMetadataToPanel});case 0:default:return l.a.createElement(J,{name:a.state.name,metadatas:a.state.docsetMetadata1,isChecked:!0,metadataSet:a.state.metadataSet,addMetadataToPanel:a.addMetadataToPanel})}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.contentRender(this.state.selectedContent);return l.a.createElement(m.a,null,l.a.createElement(ie,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,width:220},l.a.createElement("div",{className:"logo"}),l.a.createElement(p.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["0"],defaultOpenKeys:["sub1"],style:{textAlign:"left",padding:"20px 5px 20px 5px"},onClick:this.menuClick},l.a.createElement(ue,{key:"sub1",title:l.a.createElement("span",null,l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,"Metadata"))},l.a.createElement(p.a.Item,{key:"0"},l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,me[0])),l.a.createElement(p.a.Item,{key:"1"},l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,me[1]))),l.a.createElement(p.a.Item,{key:"2"},l.a.createElement(y.a,{type:"file-text"}),l.a.createElement("span",null,me[2])))),l.a.createElement(m.a,null,l.a.createElement(ce,{style:{background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("div",{style:{background:"#fff",fontSize:"20px",fontWeight:"500",textAlign:"left"}},l.a.createElement(y.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),l.a.createElement("span",{style:{paddingLeft:"10px"}},"OPS Settings")),l.a.createElement(h.a,{type:"primary",icon:"setting",onClick:this.onToggleMetadataRegister},"Metadata Register")),l.a.createElement(de,{className:"main-content"},e,l.a.createElement(se,{metadataSet:this.state.metadataSet,onAddMetadataSet:this.onAddMetadataSet,onClose:this.onToggleMetadataRegister,showMetadataRegister:this.state.showMetadataRegister}))))}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={metadatas:a.props.metadatas},a.componentWillReceiveProps=function(e){a.setState({metadatas:e.metadatas})},a.onAddMetadata=function(){a.setState({metadatas:F.a.concat(a.state.metadatas,{key:"",value:""})})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.name,t=this.state.metadatas.map(function(e){return l.a.createElement(M,{showFileMetadata:!1,key:e.key,keyName:e.key,fileJson:e.fileJson,hasFileMetadata:e.hasFileMetadata,value:e.value})});return l.a.createElement("div",null,l.a.createElement("h2",null,e),l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement(b.a,{span:24},l.a.createElement("h2",null,"Metadata"),l.a.createElement("span",null,"Following metadata will be applied docset-wide (globalMetadata)"),l.a.createElement(f.a,null)),l.a.createElement(v,{keyName:"Accepts community contributions",des:"Select if your content accepts community contributions, adds a button to the rendered page which directs external users to a repository to submit pull requests",checked:!0}),t,l.a.createElement(h.a,{type:"dashed",size:"large",icon:"plus",style:{width:"100%",marginTop:"10px"},onClick:this.onAddMetadata},"Add Metadata")))}}]),t}(n.Component),fe=m.a.Header,Ee=m.a.Sider,ke=m.a.Content,ve=p.a.SubMenu,Se=["Docset1","Docset2","Configuration"],we=[{key:"feedback_github_repo",hasFileMetadata:!0,value:"MicrosoftDocs/azure-docs"},{key:"feedback_product_url",value:"https://feedback.azure.com/forums/34192--general-feedback"},{key:"breadcrumb_path",value:"/azure/bread/toc.json"},{key:"brand",value:"azure"}],Me=[{key:"feedback_product_url",hasFileMetadata:!0,fileJson:"**/*.md",value:"https://feedback.azure.com/forums/34193--general-feedback"},{key:"breadcrumb_path",hasFileMetadata:!0,fileJson:"**/build/*.yaml",value:"/azurelearning/bread/toc.json"}],Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,selectedContent:0,name:Se[0]},a.menuClick=function(e){a.setState({name:Se[e.key],selectedContent:e.key})},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.contentRender=function(e){switch(parseInt(e)){case 2:return l.a.createElement(Y,null);case 1:return l.a.createElement(be,{name:a.state.name,metadatas:Me});case 0:default:return l.a.createElement(be,{name:a.state.name,metadatas:we})}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.contentRender(this.state.selectedContent);return l.a.createElement(m.a,null,l.a.createElement(Ee,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,width:220},l.a.createElement("div",{className:"logo"}),l.a.createElement(p.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["0"],defaultOpenKeys:["sub1"],style:{textAlign:"left",padding:"20px 5px 20px 5px"},onClick:this.menuClick},l.a.createElement(ve,{key:"sub1",title:l.a.createElement("span",null,l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,"Metadata"))},l.a.createElement(p.a.Item,{key:"0"},l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,Se[0])),l.a.createElement(p.a.Item,{key:"1"},l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,Se[1]))),l.a.createElement(p.a.Item,{key:"2"},l.a.createElement(y.a,{type:"file-text"}),l.a.createElement("span",null,Se[2])))),l.a.createElement(m.a,null,l.a.createElement(fe,{style:{background:"#fff",fontSize:"20px",fontWeight:"500",textAlign:"left"}},l.a.createElement("div",null,l.a.createElement(y.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),l.a.createElement("span",{style:{paddingLeft:"10px"}},"OPS Settings"))),l.a.createElement(ke,{className:"main-content"},e)))}}]),t}(n.Component),xe=a(359),je=a(366),Oe=x.a.TabPane,De={string:"magenta",bool:"green","one or many":"orange",object:"blue",number:"purple"},Ae=[{group:"Feedback",key:"Feedback product url",type:"string",des:"Config the feedback url for product"},{group:"Feedback",key:"Feedback github repo",type:"string",des:""},{group:"Feedback",key:"Feedback system",type:"string",des:""},{group:"Feedback",key:"Product feedback displaytext",type:"string",des:""},{group:"Breadcrumb",key:"Breadcrumb path",type:"string",des:""},{group:"Breadcrumb",key:"Extend breadcrumb",type:"string",des:""},{group:"ContributorList",key:"Author",type:"string",des:""},{group:"ContributorList",key:"Contributors to exclude",type:"string",des:""}],Te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={openAddMetadata:!1,updatedItemNums:{}},a.getGroupedCount=function(e){return e.reduce(function(e,t){var a=t.group;return e.hasOwnProperty(a)?e[a]++:e[a]=1,e},{})},a.componentWillReceiveProps=function(e){if(console.log(e),a.props.docsetName===e.docsetName){var t=a.getGroupedCount(a.props.metadatas),n=a.getGroupedCount(e.metadatas);console.log(t,n),a.setState({updatedItemNums:F.a.mapValues(n,function(e,a){return e-(t[a]?t[a]:0)})})}else a.setState({updatedItemNums:{}})},a.onClickTabs=function(e){var t=F.a.set(a.state.updatedItemNums,e,0);a.setState({updatedItemNums:t})},a.onToggleAddMetadata=function(){a.setState({openAddMetadata:!a.state.openAddMetadata})},a.onSubmitMetadatas=function(e){a.setState({openAddMetadata:!1}),a.props.onSubmitMetadatas(e)},a.onFakeChangeMetadatas=function(){g.a.success("New functinonal settings applied!")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getInput",value:function(e,t){switch(e){case"object":return l.a.createElement(S.a,{size:"large",placeholder:"Accept Json object value",defaultValue:t});case"one or many":return l.a.createElement(S.a,{size:"large",placeholder:"Accept one string or a string array",defaultValue:t});case"bool":return l.a.createElement(k.a,{size:"large",checkedChildren:"True",unCheckedChildren:"False"});case"number":return l.a.createElement(xe.a,{size:"large",defaultValue:t});case"string":default:return l.a.createElement(S.a,{size:"large",placeholder:"Accept string value",defaultValue:t})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.metadatas,n=t.docsetName,r=F.a.groupBy(a,"group"),o=F.a.keys(r).map(function(t){return l.a.createElement(Oe,{tab:l.a.createElement(je.a,{count:e.state.updatedItemNums[t]},l.a.createElement("p",null,t)),key:t},l.a.createElement(C.a,{dataSource:r[t],renderItem:function(t){return l.a.createElement(C.a.Item,{key:t.key,extra:l.a.createElement("div",{style:{width:"300px"}},e.getInput(t.type,t.value)),className:"functional-settings-item"},l.a.createElement(C.a.Item.Meta,{title:t.key,description:l.a.createElement(O.a,{color:De[t.type]},t.type)}))}}))});return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("h2",null,n),l.a.createElement(h.a,{type:"primary",icon:"setting",onClick:this.onToggleAddMetadata},"Add Metadatas")),l.a.createElement("blockquote",null,"Following functional settings will be applied docset-wide"),l.a.createElement(x.a,{onChange:this.onClickTabs,type:"card",size:"large",style:{marginTop:"20px"}},o),l.a.createElement(h.a.Group,{style:{width:"100%",marginTop:"20px"}},l.a.createElement(h.a,{type:"primary",size:"large",style:{width:"50%"},onClick:this.onFakeChangeMetadatas},"Changed"),l.a.createElement(h.a,{type:"danger",size:"large",style:{width:"50%"}},"Revert")),l.a.createElement(G,{isOpen:this.state.openAddMetadata,onSubmitMetadatas:this.onSubmitMetadatas,onCancel:this.onToggleAddMetadata,globalMetadatas:Ae}))}}]),t}(n.Component),Fe=m.a.Header,Ne=m.a.Sider,ze=m.a.Content,Ie=["Docset1","Docset2","Docset3"],_e=[[{key:"Feedback github repo",group:"Feedback",hasFileMetadata:!0,value:"MicrosoftDocs/azure-docs",type:"string"},{key:"Feedback product url",group:"Feedback",value:"https://feedback.azure.com/forums/34192--general-feedback",type:"string"},{key:"Breadcrumb path",group:"Breadcrumb",value:"/azure/bread/toc.json",type:"string"},{key:"Brand",group:"Breadcrumb",value:"azure",type:"object"},{key:"Accepts community contributions",type:"bool",value:!1,group:"Feedback"}],[{key:"Feedback github repo",group:"Feedback",hasFileMetadata:!0,value:"MicrosoftDocs/azure-docs",type:"string"},{key:"Feedback product url",group:"Feedback",value:"https://feedback.azure.com/forums/34192--general-feedback",type:"string"}],[{key:"Feedback github repo",group:"Feedback",hasFileMetadata:!0,value:"MicrosoftDocs/azure-docs",type:"string"}]],Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={collapsed:!1,selectedContent:0,name:Ie[0],metadatas:_e[0]},a.menuClick=function(e){a.setState({name:Ie[e.key],selectedContent:e.key,metadatas:_e[e.key]})},a.onToggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a.onSubmitMetadatas=function(e){a.setState({metadatas:F.a.uniqBy(F.a.concat(a.state.metadatas,e),"key")}),g.a.success("Metadatas has added.")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(Ne,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,width:220},l.a.createElement("div",{className:"logo"}),l.a.createElement(p.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["0"],defaultOpenKeys:["sub1"],style:{textAlign:"left",padding:"20px 5px 20px 5px"},onClick:this.menuClick},Ie.map(function(e,t){return l.a.createElement(p.a.Item,{key:t},l.a.createElement(y.a,{type:"book"}),l.a.createElement("span",null,e))}))),l.a.createElement(m.a,null,l.a.createElement(Fe,{style:{background:"#fff"}},l.a.createElement("div",{style:{background:"#fff",fontSize:"20px",fontWeight:"500",textAlign:"left"}},l.a.createElement(y.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.onToggleCollapsed}),l.a.createElement("span",{style:{paddingLeft:"10px"}},"OPS Functional Settings"))),l.a.createElement(ze,{className:"main-content-for-functional"},l.a.createElement(Te,{metadatas:this.state.metadatas,docsetName:this.state.name,onToggleAddMetadata:this.onToggleAddMetadata,onSubmitMetadatas:this.onSubmitMetadatas}))))}}]),t}(n.Component),Pe=a(356),Re=a(364);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(function(){return l.a.createElement(Pe.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(Re.a,{exact:!0,path:"/",component:he}),l.a.createElement(Re.a,{path:"/old",component:Ce}),l.a.createElement(Re.a,{path:"/new",component:Be})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[167,2,1]]]);
//# sourceMappingURL=main.28eb9762.chunk.js.map